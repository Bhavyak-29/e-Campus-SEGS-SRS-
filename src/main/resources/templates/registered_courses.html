<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Registered Courses</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/ecampus.css}" />
  </head>
  <body>
    <table>
      <div th:insert="fragments/commonHeader :: mainHeader"></div>
      <div class="container mt-5 text-center">
        <tr>
          <td class="sidemenu"></td>
          <td class="content">
            <div class="container mt-4">
              <h2>
                <span th:text="'Courses for ' + ${trmname} + ' Term'"></span
                ><br />
                <span th:text="'Academic Year: ' + ${ayrname}"></span>
              </h2>
              <div class="mb-3">
                <a th:href="@{/registrations/term}" class="btn btn-secondary"
                  >Change Term</a
                >
              </div>

              <table class="table table-bordered">
                <thead class="table-light">
                  <tr>
                    <th>Course Code</th>
                    <th>Course Name</th>
                    <th>Student Count</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="course : ${registeredCourses}">
                    <td th:text="${course[0]}">Course Code</td>
                    <td th:text="${course[1]}">Course Name</td>
                    <td th:text="${course[2]}">Total Students</td>
                    <td>
                      <a
                        th:href="@{'/registrations/courses/' + ${course[3]} + '/students'}"
                        class="btn btn-sm btn-outline-primary"
                        >View Students</a
                      >
                    </td>
                  </tr>
                  <tr th:if="${registeredCourses.isEmpty()}">
                    <td colspan="4" class="text-center text-muted">
                      No courses found.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </td>
          <td class="sidemenu"></td>
        </tr>

        <tr>
          <td class="sidemenu"></td>
          <td class="footer" colspan="1">
            &copy; 2002 DA-IICT, Near Indroda Circle, Ahmedabad-Gandhinagar
            Highway, Gandhinagar - 382 009, Gujarat, India.<br />
            Designed, developed and maintained by Bhavya, Sumit & Harsh
          </td>
          <td class="sidemenu"></td>
        </tr>
      </div>
    </table>
  </body>
</html>
